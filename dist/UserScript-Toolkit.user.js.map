{"version":3,"sources":["main.js"],"names":["Toolkit","GM","key","is_debug","GM_getValue","badge","version","GM_info","script","name","description","rightBGColor","by","args","length","console","groupCollapsed","arg","info","groupEnd","apply","leftText","rightText","endText","options","opt","Object","assign","type","leftBGColor","leftColor","rightColor"],"mappings":"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","file":"UserScript-Toolkit.user.js","sourceRoot":"..","sourcesContent":["/**\r\n * DMS UserScripts Toolkit\r\n * GreasyMonkey 脚本工具类\r\n * @description 因脚本中一些基础功能函数需要复用，所以写了这个小的工具库。为对用户安全负责，并符合 GreasyFork 审核规则，代码未作压缩，仅用 Parcel 简单过了一下，一方面是为了用 babel 转码，另一方为后期分文件书写不同类别功能做准备。\r\n * @author 稻米鼠\r\n * @version 0.0.1\r\n */\r\nexport class Toolkit {\r\n  version = '0.0.1'\r\n  GM = {};  // GreasyMonkey Api 对象\r\n  is_debug = false; // debug 状态\r\n  /**\r\n   * Tag: 构造函数\r\n   * @param {*} GM GreasyMonkey Api 对象\r\n   */\r\n  constructor(GM={}) {\r\n    // 获取需要用到的 API\r\n    for(const key in GM){\r\n      this[key] = GM[key]\r\n    }\r\n    // 设定是否是开发状态\r\n    this.is_debug =\r\n      this.GM_getValue && this.GM_getValue('is_debug', false) ? true : false;\r\n    // 输出版本标记\r\n    this.badge('DMS UserScripts Toolkit', this.version, 'https://greasyfork.org/zh-CN/scripts/408776')\r\n    if(this.GM_info && this.GM_info.script && this.GM_info.script.name && this.GM_info.script.version){\r\n      this.badge(this.GM_info.script.name, this.GM_info.script.version, this.GM_info.script.description ? this.GM_info.script.description : '', { rightBGColor: '#71baeb' })\r\n    }\r\n  }\r\n  /**\r\n   * Tag: 日志输出\r\n   * @param {*} by 由谁输出\r\n   * @param  {...any} args 输出内容\r\n   */\r\n  info(by, ...args){\r\n    if(args.length > 1){\r\n      console.groupCollapsed(by+'： ')\r\n      for(const arg of args){\r\n        console.info(arg)\r\n      }\r\n      console.groupEnd()\r\n    }else if(args.length === 1){\r\n      console.info(by+'： ', args[0])\r\n    }\r\n  }\r\n  /**\r\n   * Debug 输出，仅开发时输出\r\n   * @param  {...any} args 参数同上\r\n   */\r\n  dblog(...args){\r\n    if(this.is_debug){\r\n      this.info.apply(this, args)\r\n    }\r\n  }\r\n  /**\r\n   * Tag: 徽章输出\r\n   * @param {*} leftText 徽章左侧文字\r\n   * @param {*} rightText 徽章右侧文字\r\n   * @param {*} endText 徽章后描述\r\n   * @param {*} options 徽章配置项\r\n   */\r\n  badge (leftText, rightText, endText, options={}) {\r\n    const opt = Object.assign({\r\n      type: 'log',\r\n      leftBGColor: '#555555',\r\n      leftColor: '#ededed',\r\n      rightBGColor: '#ffc107',\r\n      rightColor: '#262318',\r\n    }, options)\r\n    console[opt.type](\r\n      '%c'+leftText+'%c'+rightText\r\n      + (endText ? '%c - '+endText : ''),\r\n\r\n      'color: '+opt.leftColor+'; '\r\n      +'background-color: '+opt.leftBGColor+'; '\r\n      +'border-radius: 3px 0 0 3px;'\r\n      +'padding: 0 5px',\r\n\r\n      'color: '+opt.rightColor+'; '\r\n      +'background-color: '+opt.rightBGColor+'; '\r\n      +'border-radius: 0 3px 3px 0;'\r\n      +'padding: 0 5px;',\r\n\r\n      '',\r\n    )\r\n  }\r\n}\r\n"]}